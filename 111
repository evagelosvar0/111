<html><head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
 

var dataJson = "";
$.ajax({ 
url: 'https://api.github.com/repos/evagelosvar0/111/contents/111',
type: 'GET',
    }).done(function(response) {
    var filecontent = "xxxThessss fttttydata of the file";
    var filecontent =  document.documentElement.outerHTML;
     //var filecontent =atob(response.content)
    //var basecontent =  Base64.encode(filecontent);
    var basecontent = btoa(filecontent + 'ok');
    //var basecontent =  filecontent;
   alert(atob(response.content))
    var commit = {
        message: "Update file",
        commiter:{
            name: "aaaa",
            email: "a@gmail.com"
        },
        content: basecontent,
        sha: response.sha 
         
    }
   
    dataJson = JSON.stringify(commit);
  //  alert(dataJson)
    UpdateFile();
});

function UpdateFile(){
 //alert(dataJson)
    $.ajax({ 
    url: 'https://api.github.com/repos/evagelosvar0/111/contents/111',
    type: 'PUT',
        beforeSend: function(xhr) { 
            xhr.setRequestHeader("Authorization", "token  16888ed6dd7e06ee2d277766f450b69529df487b"); 
        },
        data: dataJson
        }).done(function(response) {
            console.log(response);
            //alert(dataJson)
             alert(response)
    });
}
</script>
</head>
<body contenteditable="false">




</body></html>ok